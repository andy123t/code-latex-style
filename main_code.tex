% !Tex Program = xelatex
% default code font for pdflatex
% other font setting for xelatex

\documentclass[11pt]{article}
%\usepackage{ctex}

\usepackage[left=1.25in,right=1.25in,top=1in,bottom=1in]{geometry}

\input{code-style.tex}

% Default code font is ttfamily, setting other special fonts
\usepackage{fontspec}   % this package for XeLaTeX
\lstset{basicstyle=\footnotesize\fontspec{Consolas}}

\title{Code highlighting in LaTeX documents}
\author{Liutao~Tian \\ \texttt{andy123t@163.com}}
\date{}


\begin{document}
\maketitle

\section{MATLAB code demo}

\begin{lstlisting}[language=matlab,title={Matlab Code}]
% Euler method for the ODE model
% u'(x)=x^2+x-u, x in [0,1]
% Initial condition: u(0)=0 ;
% Exact solution: u(x)=-exp(-x)+x^2-x+1.
clear all;  clf
h=0.1;
x=0:h:1;                       % function interval
N=length(x)-1;
u(1)=0;                        % initial value
fun=@(t,u) t.^2+t-u;           % RHS

for n=1:N
    u(n+1)=u(n)+h.*fun(x(n),u(n));
end

ue=-exp(-x)+x.^2-x+1;          % exact solution
plot(x,ue,'b-',x,u,'r+','LineWidth',1)
legend('Exact ','Numerical','location','North')
%title('Euler method','fontsize',12)
set(gca,'fontsize',12)
xlabel('x','fontsize', 16), ylabel('u','fontsize',16,'Rotation',0)
\end{lstlisting}

\section{Python code demo}
\begin{lstlisting}[language=python,title={Python Code}]
#PythonDraw.py
import turtle as t
t.setup(650, 350, 200, 200)
t.penup()
t.fd(-250)
t.pendown()
t.pensize(25)
t.pencolor("purple color")
t.seth(-40)
for i in range(4):
    t.circle(40, 80)
    t.circle(-40, 80)
t.circle(40, 80/2)
t.fd(40)
t.circle(16, 180)
t.fd(40 * 2/3)
t.done()
\end{lstlisting}

\section{LaTeX code demo}
\begin{lstlisting}[language=TeX,title={LaTeX Code}]
% -*- coding: utf-8 -*-
\documentclass[11pt]{article} %book,report,letter
\usepackage{amsmath}  %
\usepackage{mathrsfs} %
%\usepackage[left=1.25in,right=1.25in,top=1in,bottom=1in]{geometry}

\begin{document}
\title{This is my Article}
\author{Andy}
\date{}
\maketitle

\begin{equation*}
\left\{
\begin{aligned}
&u_t=au_{xx} + f(x,t),0<x<l,0<t\leq T, \\
&u(x,0)=\varphi(x),0\leq x \leq l,\\
&u_x|_{x=0}=\alpha(t),u_x|_{x=l}=\beta(t),0<t<T.
\end{aligned}
\right.
\end{equation*}

\end{document}
\end{lstlisting}

\end{document} 